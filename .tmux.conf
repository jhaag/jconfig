# Gruvbox color scheme variables (matching .powerline-shell-theme.py)
set -g @DARK0 "colour235"
set -g @DARK1 "colour237"
set -g @DARK2 "colour238"
set -g @DARK3 "colour241"

set -g @LIGHT2 "colour250"
set -g @LIGHT_GRAY "colour244"

set -g @BRIGHT_RED "colour167"
set -g @BRIGHT_GREEN "colour142"
set -g @BRIGHT_PURPLE "colour171"
set -g @BRIGHT_ORANGE "colour208"

set -g @NEUTRAL_ORANGE "colour166"

set -g @FADED_ORANGE "colour130"

# Additional colors for tmux UI
set -g @BRIGHT_CYAN "colour51"
set -g @DARK_BG_ALT "colour236"
set -g @BRIGHT_MAGENTA "colour135"
set -g @VERY_BRIGHT_RED "colour196"
set -g @ALMOST_BLACK "colour232"

# Change prefix to C-a (like screen) to avoid conflict with Emacs C-SPC (set-mark-command)
unbind C-b
set -g prefix C-q
bind-key C-q send-prefix
bind-key C-q last-window

# Start numbering at 1
set -g base-index 1
setw -g pane-base-index 1

# Allows for faster key repetition
set -s escape-time 0

# Enable automatic line reflow
setw -g aggressive-resize on

set-option -g allow-rename off

# Split panes using | and -
unbind '"'
unbind %
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"

# Ctrl-Alt + emacs keys for switching panes
bind -n C-M-b select-pane -L
bind -n C-M-f select-pane -R
bind -n C-M-p select-pane -U
bind -n C-M-n select-pane -D

# Activity monitoring
set-option -g visual-activity off
set-option -g visual-bell off
set-option -g visual-silence off
set-window-option -g monitor-activity off
set-option -g bell-action none

set -g default-terminal "tmux-256color"
set -ga terminal-overrides ",*256col*:Tc"

set -g extended-keys always
set -as terminal-features "xterm*:extkeys"

set -g set-clipboard on

# The modes {
setw -g clock-mode-colour colour171 # "#{@BRIGHT_PURPLE}"
setw -g mode-style "bold,fg=#{@VERY_BRIGHT_RED},bg=#{@DARK2}"

# }
# The panes {

set -g pane-border-style "bg=#{@DARK0},fg=#{@DARK2}"
set -g pane-active-border-style "bg=#{@DARK_BG_ALT},fg=#{@BRIGHT_CYAN}"

# }
# The statusbar {

set -g status-position top
set -g status-justify left
set -g status-interval 2
set -g status-style "bg=#{@DARK0},fg=#{@LIGHT2}"
#set -g status-left '#[fg=#{@BRIGHT_PURPLE},bg=#{@DARK0}] %d %b %Y #[fg=#{@BRIGHT_PURPLE},bg=#{@DARK0}] %H:%M:%S #[fg=#{@BRIGHT_PURPLE},bg=#{@DARK0}]'
set -g status-left '#[fg=colour171,bg=#{@DARK0}] %d %b %Y #[fg=colour171,bg=#{@DARK0}] %H:%M:%S #[fg=colour171,bg=#{@DARK0}]'
set -g status-right ''
set -g status-right-length 20
set -g status-left-length 50

setw -g window-status-current-style "fg=#{@BRIGHT_ORANGE},bg=#{@DARK1}"
setw -g window-status-current-format " #I#[fg=#{@LIGHT2}]:#[fg=#{@BRIGHT_ORANGE}]#W#[fg=#{@BRIGHT_GREEN}]#F "

setw -g window-status-style "none,fg=#{@FADED_ORANGE},bg=#{@DARK0}"
setw -g window-status-format " #I#[fg=#{@DARK1}]:#[fg=#{@LIGHT2}]#W#[fg=#{@LIGHT_GRAY}]#F "

setw -g window-status-bell-style "bold,fg=#{@DARK0},bg=#{@BRIGHT_RED}"

# }
# The messages {

set -g message-style "bold,fg=#{@ALMOST_BLACK},bg=#{@NEUTRAL_ORANGE}"
set -g message-command-style "fg=blue,bg=black"

# }
